<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogoVAULT - Dynamic Logo Gallery</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Define a more vibrant primary color palette */
        :root {
            --primary: #7c3aed; /* A vibrant purple-indigo */
            --primary-dark: #6d28d9; /* A darker shade of the primary */
            --primary-light: #a78bfa; /* A lighter shade for accents */
            --secondary-accent: #14b8a6; /* Teal for success/upload */
            --secondary-accent-dark: #0d9488; /* Darker teal */
            --bg-light: #fdf2f8; /* Very light pinkish background for creativity */
            --text-dark: #1f2937; /* Dark gray for main text */
            --text-light: #e0e7ff; /* Light text for dark backgrounds */
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-light); /* Use the new light background */
            min-height: 100vh;
            color: var(--text-dark); /* Default text color */
        }
        
        /* Modal styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(5px); /* Frosted glass effect */
            -webkit-backdrop-filter: blur(5px); /* For Safari */
        }
        
        .modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            background-color: white;
            padding: 2.5rem; /* Slightly more padding */
            border-radius: 1rem; /* More rounded corners */
            width: 90%;
            max-width: 450px; /* Slightly wider modal */
            transform: translateY(-20px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15), 0 5px 15px rgba(0, 0, 0, 0.08); /* Stronger shadow */
            position: relative; /* For loader positioning */
        }
        
        .modal.active .modal-content {
            transform: translateY(0);
        }
        
        /* Full image modal */
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }
        
        .image-modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .image-modal-content {
            max-width: 90%;
            max-height: 90%;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative; /* For positioning close button */
        }
        
        .image-modal img {
            max-width: 100%;
            max-height: 80vh;
            object-fit: contain;
            margin-bottom: 1rem;
            border-radius: 0.75rem; /* Rounded corners for images */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* Shadow for full image */
        }
        
        /* Button animations and styles */
        .btn {
            transition: all 0.3s ease; /* Smoother transition */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Default shadow */
        }
        
        .btn:hover {
            transform: translateY(-2px); /* Slightly more lift */
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15); /* Enhanced shadow on hover */
        }
        
        .btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Gradient buttons */
        .btn-primary-gradient {
            background: linear-gradient(to right, var(--primary), var(--primary-dark));
            color: white;
        }
        .btn-primary-gradient:hover {
            background: linear-gradient(to left, var(--primary), var(--primary-dark)); /* Reverse gradient on hover */
        }

        .btn-secondary-gradient {
            background: linear-gradient(to right, var(--secondary-accent), var(--secondary-accent-dark));
            color: white;
        }
        .btn-secondary-gradient:hover {
            background: linear-gradient(to left, var(--secondary-accent), var(--secondary-accent-dark));
        }

        /* Dropdown menu */
        .dropdown-menu {
            position: absolute;
            right: 0;
            top: 100%;
            margin-top: 0.75rem; /* More spacing */
            background-color: white;
            border-radius: 0.75rem; /* More rounded */
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.05); /* Deeper shadow */
            z-index: 50;
            min-width: 180px; /* Slightly wider */
            display: none;
            transform: translateY(-10px);
            opacity: 0;
            transition: transform 0.2s ease-out, opacity 0.2s ease-out;
        }
        
        .dropdown:hover .dropdown-menu {
            display: block;
            transform: translateY(0);
            opacity: 1;
        }
        
        /* File upload area */
        .file-upload {
            border: 2px dashed #9ca3af; /* Darker dashed border */
            border-radius: 0.75rem; /* More rounded */
            padding: 2rem; /* More padding */
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: #f9fafb; /* Light background for the area */
        }
        
        .file-upload:hover {
            border-color: var(--primary-light); /* Primary color on hover */
            background-color: #f0f4ff; /* Lighter hover background */
        }
        
        /* Toast Notifications (Replacing old alerts) */
        #toastContainer {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            z-index: 1100;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            pointer-events: none; /* Allows clicks to pass through */
        }

        .toast {
            background-color: #333;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateX(100%);
            transition: opacity 0.4s ease-out, transform 0.4s ease-out;
            min-width: 250px;
            max-width: 350px;
            display: flex;
            align-items: center;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(0);
        }

        .toast.success { background-color: var(--secondary-accent); }
        .toast.error { background-color: #ef4444; }
        .toast.info { background-color: #3b82f6; }
        .toast.warning { background-color: #f59e0b; } /* New warning type */

        .toast-icon {
            margin-right: 0.75rem;
            font-size: 1.25rem;
        }
        
        /* Gallery item hover effects */
        .gallery-item {
            transition: all 0.3s ease; /* Smoother transition */
            border-radius: 0.75rem; /* Consistent rounding */
            overflow: hidden; /* Ensures child elements respect border-radius */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05); /* Subtle initial shadow */
            border: 2px solid transparent; /* Transparent border for hover effect */
        }
        
        .gallery-item:hover {
            transform: translateY(-5px) scale(1.03); /* More pronounced lift and scale */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15); /* Stronger shadow on hover */
            border-color: var(--primary-light); /* Border color changes on hover */
        }

        .gallery-item img {
            opacity: 0; /* Hidden by default for lazy loading */
            transition: opacity 0.5s ease-in-out;
        }
        .gallery-item img.loaded {
            opacity: 1;
        }

        /* Custom Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
        }

        .animate-fade-in {
            animation: fadeIn 1s ease-out forwards;
            animation-delay: 0.3s;
            opacity: 0;
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        /* Styles for the intro box */
        .intro-box {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark)); /* Gradient background */
            box-shadow: 0 0 20px rgba(124, 58, 237, 0.6), /* Purple glow */
                        0 0 40px rgba(124, 58, 237, 0.4);
        }

        .intro-box h1 {
            color: #ffffff; /* White text for title */
            text-shadow: 
                0 0 8px rgba(255, 255, 255, 0.6), /* Stronger white glow */
                0 0 15px rgba(255, 255, 255, 0.4);
        }

        .intro-box p {
            color: var(--text-light); /* Lighter text for description */
            text-shadow: 
                0 0 5px rgba(255, 255, 255, 0.3), /* Subtle white shadow for description */
                0 0 10px rgba(255, 255, 255, 0.15);
        }

        /* Category Card specific styles */
        .category-card {
            background: linear-gradient(135deg, white, #fbfafd); /* Subtle white gradient */
            transition: all 0.3s ease;
            border-radius: 1rem; /* More rounded */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08); /* Initial shadow */
        }
        .category-card:hover {
            transform: translateY(-8px); /* More lift on hover */
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.18); /* Deeper shadow on hover */
            border-color: var(--primary); /* Highlight with primary color */
        }

        .category-card h2 {
            color: var(--primary-dark); /* Category title color */
        }

        .category-card .logo-grid {
            border-top: 1px solid #e5e7eb; /* Subtle separator */
            padding-top: 1.5rem;
            margin-top: 1.5rem;
        }

        /* Loader Overlay */
        .loader-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 1rem; /* Match modal content border-radius */
            z-index: 10; /* Above form elements, below close button */
            transition: opacity 0.3s ease;
            opacity: 0;
            pointer-events: none;
        }

        .loader-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Navigation Bar -->
    <nav class="bg-white shadow-md py-4 px-6 flex flex-col sm:flex-row sm:justify-between sm:items-center rounded-b-xl">
        <a href="#" class="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600 flex items-center mb-4 sm:mb-0">
            <i class="fas fa-images mr-3 text-purple-500"></i>
            LogoVAULT
        </a>
        
        <div class="flex flex-col sm:flex-row items-center w-full sm:w-auto space-y-4 sm:space-y-0 sm:space-x-4">
            <!-- Search Bar -->
            <div class="relative w-full"> <!-- Removed sm:w-64 to allow it to fill more on small screens -->
                <input type="text" id="searchInput" placeholder="Search logos..." 
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-light focus:border-primary-light transition-all pl-10"
                       onkeyup="filterGallery()">
                <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>

            <!-- Auth buttons (shown when logged out) -->
            <div id="authButtons" class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 w-full sm:w-auto justify-center sm:justify-start mt-4 sm:mt-0">
                <button onclick="openModal('loginModal')" class="btn btn-primary-gradient w-full sm:w-auto px-5 py-2.5 rounded-lg font-medium text-lg">
                    Login
                </button>
                <button onclick="openModal('signupModal')" class="btn bg-gray-100 hover:bg-gray-200 text-gray-700 w-full sm:w-auto px-5 py-2.5 rounded-lg font-medium text-lg">
                    Sign Up
                </button>
            </div>
            
            <!-- User menu (shown when logged in) -->
            <div id="userMenu" class="hidden flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4 w-full sm:w-auto justify-center sm:justify-start mt-4 sm:mt-0">
                <button onclick="openModal('uploadModal')" class="btn btn-secondary-gradient w-full sm:w-auto px-5 py-2.5 rounded-lg font-medium text-lg">
                    <i class="fas fa-cloud-upload-alt mr-2"></i> Upload
                </button>
                
                <div class="dropdown relative w-full sm:w-auto flex justify-center sm:block">
                    <button class="flex items-center space-x-2 focus:outline-none p-1 rounded-full hover:bg-gray-100 transition-colors">
                        <img id="userAvatar" class="w-11 h-11 rounded-full border-2 border-primary-light object-cover" src="https://placehold.co/150x150/a78bfa/ffffff?text=User" alt="User Avatar">
                        <i class="fas fa-chevron-down text-gray-500 text-sm"></i>
                    </button>
                    
                    <div class="dropdown-menu">
                        <a href="#" class="block px-5 py-3 text-gray-700 hover:bg-gray-50 rounded-t-lg">
                            <i class="fas fa-user mr-3 text-gray-500"></i> Profile
                        </a>
                        <a href="#" class="block px-5 py-3 text-gray-700 hover:bg-gray-50">
                            <i class="fas fa-images mr-3 text-gray-500"></i> My Uploads
                        </a>
                        <div class="border-t border-gray-200 my-1"></div>
                        <a href="#" onclick="logout()" class="block px-5 py-3 text-gray-700 hover:bg-red-50 rounded-b-lg">
                            <i class="fas fa-sign-out-alt mr-3 text-red-500"></i> Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto py-10 px-4 sm:px-6 lg:px-8">
        <!-- Intro Box -->
        <div class="intro-box rounded-2xl shadow-xl p-6 sm:p-10 text-center mb-16 transform transition-all duration-500 hover:scale-[1.005] hover:shadow-2xl">
            <h1 class="text-5xl md:text-6xl font-extrabold mb-5 animate-fade-in-up">LogoVAULT</h1>
            <p class="text-xl md:text-2xl max-w-4xl mx-auto animate-fade-in leading-relaxed">
                Dive into a vibrant collection of high-quality brand logos and icons. Discover, download, and get inspired!
            </p>
        </div>

        <!-- Filter Buttons -->
        <div class="flex flex-wrap justify-center gap-3 mb-10">
            <button class="filter-btn bg-white text-gray-700 px-4 py-2 rounded-full border border-gray-300 hover:border-primary hover:text-primary transition-all duration-200"
                    data-category="all" onclick="filterByCategory('all')">All Categories</button>
            <button class="filter-btn bg-white text-gray-700 px-4 py-2 rounded-full border border-gray-300 hover:border-primary hover:text-primary transition-all duration-200"
                    data-category="phone-company-logos" onclick="filterByCategory('Phone Company Logos')">Phone Companies</button>
            <button class="filter-btn bg-white text-gray-700 px-4 py-2 rounded-full border border-gray-300 hover:border-primary hover:text-primary transition-all duration-200"
                    data-category="top-tech-company-logos" onclick="filterByCategory('Top Tech Company Logos')">Tech Companies</button>
            <button class="filter-btn bg-white text-gray-700 px-4 py-2 rounded-full border-gray-300 hover:border-primary hover:text-primary transition-all duration-200"
                    data-category="food-beverage-logos" onclick="filterByCategory('Food & Beverage Logos')">Food & Beverage</button>
            <button class="filter-btn bg-white text-gray-700 px-4 py-2 rounded-full border-gray-300 hover:border-primary hover:text-primary transition-all duration-200"
                    data-category="automotive-logos" onclick="filterByCategory('Automotive Logos')">Automotive</button>
            <button class="filter-btn bg-white text-gray-700 px-4 py-2 rounded-full border-gray-300 hover:border-primary hover:text-primary transition-all duration-200"
                    data-category="bank-logos" onclick="filterByCategory('Bank Logos')">Banks</button>
            <button class="filter-btn bg-white text-gray-700 px-4 py-2 rounded-full border-gray-300 hover:border-primary hover:text-primary transition-all duration-200"
                    data-category="gaming-company-logos" onclick="filterByCategory('Gaming Company Logos')">Gaming</button>
            <button class="filter-btn bg-white text-gray-700 px-4 py-2 rounded-full border-gray-300 hover:border-primary hover:text-primary transition-all duration-200"
                    data-category="music-streaming-services" onclick="filterByCategory('Music Streaming Services')">Music</button>
            <button class="filter-btn bg-white text-gray-700 px-4 py-2 rounded-full border-gray-300 hover:border-primary hover:text-primary transition-all duration-200"
                    data-category="airline-company-logos" onclick="filterByCategory('Airline Company Logos')">Airlines</button>
            <button class="filter-btn bg-white text-gray-700 px-4 py-2 rounded-full border-gray-300 hover:border-primary hover:text-primary transition-all duration-200"
                    data-category="e-commerce-platforms" onclick="filterByCategory('E-commerce Platforms')">E-commerce</button>
        </div>
        
        <!-- Gallery container -->
        <div id="galleryContainer" class="grid grid-cols-1 md:grid-cols-2 gap-10">
            <!-- Categories will be loaded dynamically here -->
        </div>
        <p id="noResultsMessage" class="text-center text-gray-500 text-xl mt-10 hidden">No logos found matching your search.</p>
    </main>

    <!-- Full Image Modal -->
    <div id="imageModal" class="image-modal">
        <div class="image-modal-content">
            <button onclick="closeImageModal()" class="absolute top-6 right-6 text-white text-3xl opacity-80 hover:opacity-100 transition-opacity" aria-label="Close image modal">
                <i class="fas fa-times-circle"></i>
            </button>
            <img id="modalImage" src="" alt="Full size image" class="lazyload">
            <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 mt-6">
                <button onclick="downloadCurrentImage()" class="btn btn-primary-gradient px-6 py-3 rounded-lg text-lg">
                    <i class="fas fa-download mr-3"></i> Download
                </button>
                <button onclick="closeImageModal()" class="btn bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg text-lg shadow-md">
                    Close
                </button>
            </div>
            <p id="modalImageName" class="text-white mt-4 text-xl font-semibold text-center"></p>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="loader-overlay" id="loginLoader">
                <div class="loader"></div>
            </div>
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Welcome Back!</h2>
                <button onclick="closeModal('loginModal')" class="text-gray-500 hover:text-gray-700 text-2xl" aria-label="Close login modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="loginForm" class="space-y-5">
                <div>
                    <label for="loginEmail" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                    <input type="email" id="loginEmail" required 
                           class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-light focus:border-primary-light transition-all"
                           aria-label="Login email">
                    <p id="loginEmailError" class="text-red-500 text-sm mt-1 hidden"></p>
                </div>
                
                <div>
                    <label for="loginPassword" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                    <input type="password" id="loginPassword" required 
                           class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-light focus:border-primary-light transition-all"
                           aria-label="Login password">
                    <p id="loginPasswordError" class="text-red-500 text-sm mt-1 hidden"></p>
                </div>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <input type="checkbox" id="rememberMe" class="h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary" aria-label="Remember me">
                        <label for="rememberMe" class="ml-2 block text-sm text-gray-700">Remember me</label>
                    </div>
                    <a href="#" class="text-sm text-primary hover:text-primary-dark font-medium">Forgot password?</a>
                </div>
                
                <button type="submit" class="w-full btn btn-primary-gradient py-3 rounded-lg text-lg font-semibold">
                    Sign In
                </button>
            </form>
            
            <div class="mt-8">
                <div class="relative">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t border-gray-300"></div>
                    </div>
                    <div class="relative flex justify-center text-base">
                        <span class="px-4 bg-white text-gray-500">Or continue with</span>
                    </div>
                </div>
                
                <div class="mt-7 grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <button type="button" class="w-full btn bg-white hover:bg-gray-50 text-gray-700 py-3 px-4 border border-gray-300 rounded-lg text-base shadow-sm">
                        <i class="fab fa-google text-red-500 mr-2"></i> Google
                    </button>
                    <button type="button" class="w-full btn bg-white hover:bg-gray-50 text-gray-700 py-3 px-4 border border-gray-300 rounded-lg text-base shadow-sm">
                        <i class="fab fa-facebook text-blue-600 mr-2"></i> Facebook
                    </button>
                </div>
            </div>
            
            <p class="mt-8 text-center text-sm text-gray-600">
                Don't have an account? 
                <a href="#" onclick="switchToSignup()" class="text-primary hover:text-primary-dark font-semibold">Sign up</a>
            </p>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <div class="loader-overlay" id="signupLoader">
                <div class="loader"></div>
            </div>
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Create Your Account</h2>
                <button onclick="closeModal('signupModal')" class="text-gray-500 hover:text-gray-700 text-2xl" aria-label="Close signup modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="signupForm" class="space-y-5">
                <div>
                    <label for="signupName" class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                    <input type="text" id="signupName" required 
                           class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-light focus:border-primary-light transition-all"
                           aria-label="Full name">
                    <p id="signupNameError" class="text-red-500 text-sm mt-1 hidden"></p>
                </div>
                
                <div>
                    <label for="signupEmail" class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                    <input type="email" id="signupEmail" required 
                           class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-light focus:border-primary-light transition-all"
                           aria-label="Signup email">
                    <p id="signupEmailError" class="text-red-500 text-sm mt-1 hidden"></p>
                </div>
                
                <div>
                    <label for="signupPassword" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                    <input type="password" id="signupPassword" required 
                           class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-light focus:border-primary-light transition-all"
                           aria-label="Signup password">
                    <p class="mt-1 text-xs text-gray-500">At least 8 characters, mix of uppercase, lowercase, numbers, and symbols</p>
                    <p id="signupPasswordError" class="text-red-500 text-sm mt-1 hidden"></p>
                </div>
                
                <div>
                    <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
                    <input type="password" id="confirmPassword" required 
                           class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-light focus:border-primary-light transition-all"
                           aria-label="Confirm password">
                    <p id="confirmPasswordError" class="text-red-500 text-sm mt-1 hidden"></p>
                </div>
                
                <div class="flex items-center">
                    <input type="checkbox" id="acceptTerms" required class="h-4 w-4 text-primary rounded border-gray-300 focus:ring-primary" aria-label="Accept terms and privacy policy">
                    <label for="acceptTerms" class="ml-2 block text-sm text-gray-700">
                        I agree to the <a href="#" class="text-primary hover:text-primary-dark font-medium">Terms</a> and <a href="#" class="text-primary hover:text-primary-dark">Privacy Policy</a>
                    </label>
                </div>
                
                <button type="submit" class="w-full btn btn-primary-gradient py-3 rounded-lg text-lg font-semibold">
                    Create Account
                </button>
            </form>
            
            <p class="mt-8 text-center text-sm text-gray-600">
                Already have an account? 
                <a href="#" onclick="switchToLogin()" class="text-primary hover:text-primary-dark font-semibold">Sign in</a>
            </p>
        </div>
    </div>

    <!-- Upload Modal -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <div class="loader-overlay" id="uploadLoader">
                <div class="loader"></div>
            </div>
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Upload Your Logo</h2>
                <button onclick="closeModal('uploadModal')" class="text-gray-500 hover:text-gray-700 text-2xl" aria-label="Close upload modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="uploadForm" class="space-y-5">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Logo Image</label>
                    <div class="file-upload" id="fileUploadArea">
                        <input type="file" id="imageUpload" accept="image/*" class="hidden" aria-label="Upload logo image">
                        <div class="flex flex-col items-center justify-center">
                            <i class="fas fa-cloud-arrow-up text-5xl text-gray-400 mb-3"></i>
                            <p class="text-base text-gray-600 font-medium">Drag & drop or <span class="text-primary-dark font-semibold">click to browse</span></p>
                            <p class="text-sm text-gray-500 mt-1">PNG, JPG, SVG (Max 5MB)</p>
                        </div>
                    </div>
                    <div id="imagePreviewContainer" class="mt-5 hidden p-3 bg-gray-50 rounded-lg border border-gray-200">
                        <img id="imagePreview" class="max-h-48 mx-auto rounded-lg shadow-md object-contain" alt="Image preview">
                        <p id="imageFileName" class="text-center text-sm text-gray-600 mt-2 truncate"></p>
                    </div>
                    <p id="imageUploadError" class="text-red-500 text-sm mt-1 hidden"></p>
                </div>
                
                <div>
                    <label for="imageTitle" class="block text-sm font-medium text-gray-700 mb-2">Title</label>
                    <input type="text" id="imageTitle" required 
                           class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-light focus:border-primary-light transition-all"
                           aria-label="Logo title">
                    <p id="imageTitleError" class="text-red-500 text-sm mt-1 hidden"></p>
                </div>
                
                <div>
                    <label for="imageCategory" class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                    <select id="imageCategory" class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-light focus:border-primary-light appearance-none bg-white pr-8 transition-all"
                            aria-label="Logo category">
                        <option value="">Select a category</option> <!-- Added default empty option -->
                        <option value="Phone Company Logos">Phone Companies</option>
                        <option value="Top Tech Company Logos">Tech Companies</option>
                        <option value="Food & Beverage Logos">Food & Beverage</option>
                        <option value="Automotive Logos">Automotive</option>
                        <option value="Bank Logos">Banks</option>
                        <option value="Gaming Company Logos">Gaming</option>
                        <option value="Music Streaming Services">Music</option>
                        <option value="Airline Company Logos">Airlines</option>
                        <option value="E-commerce Platforms">E-commerce</option>
                        <option value="Other">Other</option>
                    </select>
                    <p id="imageCategoryError" class="text-red-500 text-sm mt-1 hidden"></p>
                </div>
                
                <div>
                    <label for="imageDescription" class="block text-sm font-medium text-gray-700 mb-2">Description (Optional)</label>
                    <textarea id="imageDescription" rows="4" 
                              class="w-full px-5 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-light focus:border-primary-light transition-all"
                              aria-label="Logo description"></textarea>
                </div>
                
                <button type="submit" class="w-full btn btn-secondary-gradient py-3 rounded-lg text-lg font-semibold">
                    <i class="fas fa-upload mr-2"></i> Submit Logo
                </button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="w-full max-w-7xl mx-auto text-center mt-20 py-8 text-gray-600 bg-white rounded-t-3xl shadow-lg border-t-4 border-primary-light">
        <p class="text-lg font-medium">&copy; 2025 LogoVAULT. All rights reserved.</p>
        <div class="flex justify-center items-center mt-5 space-x-7">
            <a href="#" class="text-gray-500 hover:text-blue-500 transform transition-transform duration-300 hover:scale-125" aria-label="Visit us on Twitter">
                <i class="fab fa-twitter text-2xl"></i>
            </a>
            <a href="#" class="text-gray-500 hover:text-indigo-500 transform transition-transform duration-300 hover:scale-125" aria-label="Visit us on Instagram">
                <i class="fab fa-instagram text-2xl"></i>
            </a>
            <a href="#" class="text-gray-500 hover:text-red-500 transform transition-transform duration-300 hover:scale-125" aria-label="Visit us on YouTube">
                <i class="fab fa-youtube text-2xl"></i>
            </a>
            <a href="#" class="text-gray-500 hover:text-blue-700 transform transition-transform duration-300 hover:scale-125" aria-label="Visit us on LinkedIn">
                <i class="fab fa-linkedin text-2xl"></i>
            </a>
        </div>
    </footer>

    <!-- Toast Notification Container (Replaced old alert) -->
    <div id="toastContainer"></div>

    <script>
        // Gallery Data (slightly adjusted the data to be more consistent with actual categories in upload modal)
        const galleryData = {
            "Phone Company Logos": [
                { name: "APPLE", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Apple_logo_black.svg/732px-Apple_logo_black.svg.png?20220821121934" },
                { name: "SAMSUNG", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/24/Samsung_Logo.svg/1200px-Samsung_Logo.svg.png?20221128191222" },
                { name: "XIAOMI", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Xiaomi_logo.svg/300px-Xiaomi_logo.svg.png?20221121094825" },
                { name: "OPPO", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/OPPO_LOGO_2019.svg/1198px-OPPO_LOGO_2019.svg.png?20201022231359" },
                { name: "VIVO", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Vivo_Logo.svg/1200px-Vivo_Logo.svg.png?20180410034342" },
                { name: "ONEPLUS", url: "https://images.seeklogo.com/logo-png/28/1/oneplus-logo-png_seeklogo-284982.png" }
            ],
            "Top Tech Company Logos": [
                { name: "AMAZON", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/905px-Amazon_logo.svg.png?20250504041148" },
                { name: "GOOGLE", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Google_2015_logo.svg/408px-Google_2015_logo.svg.png?20160213081640" },
                { name: "MICROSOFT", url: "https://www.svgrepo.com/show/303143/microsoft-logo.svg" },
                { name: "META", url: "https://360prconsultants.com/wp-content/uploads/2024/03/facebook-meta-la-gi-vi-sao-facebook-lai-doi-ten-thanh-meta_62877b36706e8.jpeg" },
                { name: "TENCENT", url: "https://www.svgrepo.com/show/303560/tencent-logo.svg" },
                { name: "ALPHABET", url: "https://toppng.com//public/uploads/preview/alphabet-inc-logo-vector-11573966203ry2oiuo95g.png" }
            ],
            "Food & Beverage Logos": [ /* Renamed from "Food Company Logos" */
                { name: "COCA COLA", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Coca-Cola_logo.svg/768px-Coca-Cola_logo.svg.png?20250612123859" },
                { name: "PEPSI", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/68/Pepsi_2023.svg/330px-Pepsi_2023.svg.png" },
                { name: "NESTLE", url: "https://upload.wikimedia.org/wikipedia/en/thumb/d/d8/Nestl%C3%A9.svg/1200px-Nestl%C3%A9.svg.png" },
                { name: "UNILEVER", url: "https://upload.wikimedia.org/wikipedia/en/thumb/e/e4/Unilever.svg/1200px-Unilever.svg.png" },
                { name: "KRAFTHENIZ", url: "https://www.mmaglobal.com/files/logos/kraft-logo-h-j-heinz-company-nasdaqkhc-food-brand-kraft-heinz-logo-png-free.jpg" },
                { name: "MCDONALD'S", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/McDonald%27s_square_2020.svg/960px-McDonald%27s_square_2020.svg.png" }
            ],
            "Automotive Logos": [ /* Renamed from "Car Manufacturers Logos" */
                { name: "Toyota", url: "https://global.toyota/pages/global_toyota/mobility/toyota-brand/emblem_ogp_001.png" },
                { name: "FORD", url: "https://global.toyota/pages/global_toyota/mobility/toyota-brand/emblem_ogp_001.png" },
                { name: "BMW", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/BMW.svg/1024px-BMW.svg.png" },
                { name: "Mercedes Benz", url: "https://cdn.vectorstock.com/i/500p/62/81/mercedes-benz-star-symbol-vector-33196281.jpg" },
                { name: "AUDI", url: "https://di-uploads-pod3.dealerinspire.com/vindeversautohausofsylvania/uploads/2018/10/Audi-Logo-Banner.png" },
                { name: "HONDA", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjGnBoZszSuEa6UAjmuTt_ksFza4iscyKSsg&s" }
            ],
            "Bank Logos": [
                { name: "JPMorgan Chase", url: "https://media.designrush.com/inspirations/757007/conversions/JPMorgan-Chase-Logo-SVG-preview.jpg" },
                { name: "BANK OF AMERICA", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTzyFrqKz7aDqosGKG3xi9mUhSOnOHhOuM2HQ&s" },
                { name: "Industrial and Commercial Bank of China (ICBC)", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRT6mnQikupUQIarYHdCDv1vNX8rcGythqxqA&s" },
                { name: "Wells Fargo", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Wells_Fargo_Logo_%282020%29.svg/1200px-Wells_Fargo_Logo_%282020%29.svg.png" },
                { name: "HSBC", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSM810vAYgqHqpT2ImSWzskzbfIAX48ku-zVA&s" },
                { name: "Citigroup", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/Citi_logo_March_2023.svg/1200px-Citi_logo_March_2023.svg.png" }
            ],
            "Gaming Company Logos": [
                { name: "Nintendo", url: "https://images.seeklogo.com/logo-png/9/2/nintendo-logo-png_seeklogo-99658.png" },
                { name: "PLAYSTATION", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7okyQ8lPjNyNHoN8j6nNOKeLhgx_vLf3b1A&s" },
                { name: "XBOX", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSO6VQqgEwe93rCfGwOOe9jMZP-f-W0BCRLEA&s" },
                { name: "ACTIVISION", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/01/Activision.svg/1280px-Activision.svg.png" },
                { name: "UBISOFT", url: "https://staticctf.ubisoft.com/J3yJr34U2pZ2Ieem48Dwy9uqj5PNUQTn/rF7SUo7PFwG5LR0tNnFLI/1a228c6da3653adea50322b76baecf56/ubisoft-logo-3_310530-960x540.jpg" },
                { name: "ELECTRONIC ARTS", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQJ7lGdtf-LiHYHqv8t0O9qDrAX5ciFj_5I1Q&s" }
            ],
            "Music Streaming Services": [
                { name: "Spotify", url: "https://storage.googleapis.com/pr-newsroom-wp/1/2023/05/Spotify_Primary_Logo_RGB_Green.png" },
                { name: "Apple Music", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Apple_Music_icon.svg/1200px-Apple_Music_icon.svg.png" },
                { name: "YouTube Music", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTGY-7JMn7XIHXzcJngs2nXywPX5lD7ger3WA&s" },
                { name: "Amazon Music", url: "https://static.amazonmusic.com/dims4/default/1feffd3/2147483647/strip/true/crop/1080x608+0+236/resize/1000x563!/quality/90/?url=https%3A%2F%2Famazon-k1-prod-music2.s3.us-west-2.amazonaws.com%2Fbrightspot%2F00%2F75%2Ffce403944478b583567b6659a7a0%2Fprimary-s.jpg" },
                { name: "Tidal", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTs6S3QrDI05UhvNRf9V1dsgPEUUksLAaDjxw&s" },
                { name: "DEEZER", url: "https://www.shutterstock.com/image-vector/gomel-belarus-january-17-2024-600nw-2414087145.jpg" }
            ],
            "Airline Company Logos": [
                { name: "Delta Air Lines", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRQm0vC1933yutCMovmQ2iZ4i5jmdFVa19xUQ&s" },
                { name: "Emirates", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3N3_UzZPIjoX4Ifay-y0syg9g-4mKks7JPQ&s" },
                { name: "Lufthansa", url: "https://icon2.cleanpng.com/lnd/20241225/lz/dad7761a2ae2258ac4e3b83a6b0581.webp" },
                { name: "SINGAPORE AIRLINES", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyukcRufO5WMk1BDKXcRVwKUWPprVD3wiKBA&s" },
                { name: "QATAR AIRWAYS", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS1qRvHqsUH2SFYJ6vhHV-l39YMeIYCEY_CrA&s" },
                { name: "American Airlines", url: "https://static.dezeen.com/uploads/2013/01/dezeen_American-Airlines-logo-and-livery_4a.jpg" }
            ],
            "E-commerce Platforms": [
                { name: "Amazon", url: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/640px-Amazon_logo.svg.png" },
                { name: "Alibaba", url: "https://blog.boon.so/wp-content/uploads/2024/03/Alibaba-Logo-3.png" },
                { name: "Shopify", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ58f__Hs5QwGWIEcsawDwW1o5IQzaYNPONhQ&s" },
                { name: "eBay", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTBKr36UqGOPJBYE0Ri9pd7LYEb1kv5oZXElQ&s" },
                { name: "Walmart Marketplace", url: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqiNneUZRi_TIqGwZaZRt-QhAzAWl5WRfxOg&s" },
                { name: "JD.com", url: "https://i.ytimg.com/vi/0v5Ffok7It4/sddefault.jpg" }
            ]
        };

        let currentImage = null; // To store the currently viewed image for download

        /**
         * Generic function to show a loader overlay on a modal.
         * @param {string} modalId - The ID of the modal whose loader should be shown.
         * @param {boolean} show - True to show, false to hide.
         */
        function toggleLoader(modalId, show) {
            const loaderOverlay = document.getElementById(`${modalId.replace('Modal', 'Loader')}`);
            if (loaderOverlay) {
                if (show) {
                    loaderOverlay.classList.add('active');
                } else {
                    loaderOverlay.classList.remove('active');
                }
            }
        }

        /**
         * Opens a specified modal by adding the 'active' class.
         * @param {string} modalId - The ID of the modal to open.
         */
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            // Reset form fields and error messages when opening modal
            const form = document.getElementById(modalId.replace('Modal', 'Form'));
            if (form) {
                form.reset();
                form.querySelectorAll('.text-red-500').forEach(el => el.classList.add('hidden'));
            }
            if (modalId === 'uploadModal') {
                document.getElementById('imagePreviewContainer').classList.add('hidden');
            }
        }

        /**
         * Closes a specified modal by removing the 'active' class.
         * @param {string} modalId - The ID of the modal to close.
         */
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            toggleLoader(modalId, false); // Hide loader when modal closes
        }

        /**
         * Switches from the login modal to the signup modal.
         */
        function switchToSignup() {
            closeModal('loginModal');
            openModal('signupModal');
        }

        /**
         * Switches from the signup modal to the login modal.
         */
        function switchToLogin() {
            closeModal('signupModal');
            openModal('loginModal');
        }

        /**
         * Displays a toast notification with a specific message and type.
         * @param {string} message - The message to display.
         * @param {string} type - The type of toast ('success', 'error', 'info', 'warning').
         */
        function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.classList.add('toast', type);

            let iconClass = '';
            switch (type) {
                case 'success': iconClass = 'fa-check-circle'; break;
                case 'error': iconClass = 'fa-times-circle'; break;
                case 'info': iconClass = 'fa-info-circle'; break;
                case 'warning': iconClass = 'fa-exclamation-triangle'; break;
                default: iconClass = 'fa-info-circle';
            }

            toast.innerHTML = `<i class="fas ${iconClass} toast-icon"></i><span>${message}</span>`;
            toastContainer.appendChild(toast);

            // Trigger reflow to enable transition
            void toast.offsetWidth; 
            toast.classList.add('show');

            setTimeout(() => {
                toast.classList.remove('show');
                toast.addEventListener('transitionend', () => toast.remove());
            }, 3000); // Toast disappears after 3 seconds
        }

        /**
         * Validates form fields and displays error messages.
         * @param {HTMLFormElement} form - The form element to validate.
         * @returns {boolean} - True if form is valid, false otherwise.
         */
        function validateForm(form) {
            let isValid = true;
            const errorMessages = form.querySelectorAll('.text-red-500');
            errorMessages.forEach(el => el.classList.add('hidden')); // Clear previous errors

            // Example validation for login form
            if (form.id === 'loginForm') {
                const email = form.querySelector('#loginEmail');
                const password = form.querySelector('#loginPassword');

                if (!email.value) {
                    document.getElementById('loginEmailError').textContent = 'Email is required.';
                    document.getElementById('loginEmailError').classList.remove('hidden');
                    isValid = false;
                } else if (!/\S+@\S+\.\S+/.test(email.value)) {
                    document.getElementById('loginEmailError').textContent = 'Invalid email format.';
                    document.getElementById('loginEmailError').classList.remove('hidden');
                    isValid = false;
                }

                if (!password.value) {
                    document.getElementById('loginPasswordError').textContent = 'Password is required.';
                    document.getElementById('loginPasswordError').classList.remove('hidden');
                    isValid = false;
                }
            } else if (form.id === 'signupForm') {
                const name = form.querySelector('#signupName');
                const email = form.querySelector('#signupEmail');
                const password = form.querySelector('#signupPassword');
                const confirmPassword = form.querySelector('#confirmPassword');
                const acceptTerms = form.querySelector('#acceptTerms');

                if (!name.value) {
                    document.getElementById('signupNameError').textContent = 'Full name is required.';
                    document.getElementById('signupNameError').classList.remove('hidden');
                    isValid = false;
                }

                if (!email.value) {
                    document.getElementById('signupEmailError').textContent = 'Email is required.';
                    document.getElementById('signupEmailError').classList.remove('hidden');
                    isValid = false;
                } else if (!/\S+@\S+\.\S+/.test(email.value)) {
                    document.getElementById('signupEmailError').textContent = 'Invalid email format.';
                    document.getElementById('signupEmailError').classList.remove('hidden');
                    isValid = false;
                }

                if (!password.value) {
                    document.getElementById('signupPasswordError').textContent = 'Password is required.';
                    document.getElementById('signupPasswordError').classList.remove('hidden');
                    isValid = false;
                } else if (password.value.length < 8) {
                    document.getElementById('signupPasswordError').textContent = 'Password must be at least 8 characters.';
                    document.getElementById('signupPasswordError').classList.remove('hidden');
                    isValid = false;
                }

                if (password.value !== confirmPassword.value) {
                    document.getElementById('confirmPasswordError').textContent = 'Passwords do not match.';
                    document.getElementById('confirmPasswordError').classList.remove('hidden');
                    isValid = false;
                }

                if (!acceptTerms.checked) {
                    showToast('You must accept the terms and privacy policy.', 'warning');
                    isValid = false;
                }
            } else if (form.id === 'uploadForm') {
                const imageFile = form.querySelector('#imageUpload').files[0];
                const title = form.querySelector('#imageTitle');
                const category = form.querySelector('#imageCategory');

                if (!imageFile) {
                    document.getElementById('imageUploadError').textContent = 'Please select a logo image.';
                    document.getElementById('imageUploadError').classList.remove('hidden');
                    isValid = false;
                } else if (imageFile.size > 5 * 1024 * 1024) {
                    document.getElementById('imageUploadError').textContent = 'File size exceeds 5MB limit!';
                    document.getElementById('imageUploadError').classList.remove('hidden');
                    isValid = false;
                }

                if (!title.value) {
                    document.getElementById('imageTitleError').textContent = 'Title is required.';
                    document.getElementById('imageTitleError').classList.remove('hidden');
                    isValid = false;
                }

                if (!category.value) {
                    document.getElementById('imageCategoryError').textContent = 'Category is required.';
                    document.getElementById('imageCategoryError').classList.remove('hidden');
                    isValid = false;
                }
            }

            return isValid;
        }

        /**
         * Simulates a user login. In a real app, this would involve API calls.
         * Toggles UI elements to reflect login state.
         * @param {Event} event - The form submission event.
         */
        function login(event) {
            event.preventDefault();
            const form = event.target;
            if (!validateForm(form)) {
                return;
            }

            toggleLoader('loginModal', true); // Show loader

            // Simulate API call
            setTimeout(() => {
                toggleLoader('loginModal', false); // Hide loader
                closeModal('loginModal');
                document.getElementById('authButtons').classList.add('hidden');
                document.getElementById('userMenu').classList.remove('hidden');
                showToast('Logged in successfully!', 'success');
            }, 1000); // Increased delay for loader visibility
        }

        /**
         * Simulates user registration. In a real app, this would involve API calls.
         * @param {Event} event - The form submission event.
         */
        function signup(event) {
            event.preventDefault();
            const form = event.target;
            if (!validateForm(form)) {
                return;
            }

            toggleLoader('signupModal', true); // Show loader

            // Simulate API call
            setTimeout(() => {
                toggleLoader('signupModal', false); // Hide loader
                closeModal('signupModal');
                showToast('Account created successfully! Please log in.', 'success');
                openModal('loginModal'); // Automatically switch to login after signup
            }, 1000); // Increased delay
        }

        /**
         * Simulates user logout.
         * Toggles UI elements to reflect logout state.
         */
        function logout() {
            // Simulate API call
            showToast('Logging out...', 'info');
            setTimeout(() => {
                document.getElementById('authButtons').classList.remove('hidden');
                document.getElementById('userMenu').classList.add('hidden');
                showToast('Logged out successfully.', 'info');
            }, 500);
        }

        /**
         * Opens the full-size image modal with the selected image.
         * @param {string} imageUrl - The URL of the image to display.
         * @param {string} imageName - The name of the image.
         */
        function openImageModal(imageUrl, imageName) {
            const modalImage = document.getElementById('modalImage');
            const modalImageName = document.getElementById('modalImageName');
            modalImage.src = imageUrl;
            modalImage.alt = imageName;
            modalImageName.textContent = imageName;
            currentImage = { url: imageUrl, name: imageName }; // Store for download
            document.getElementById('imageModal').classList.add('active');
        }

        /**
         * Closes the full-size image modal.
         */
        function closeImageModal() {
            document.getElementById('imageModal').classList.remove('active');
            currentImage = null; // Clear current image
        }

        /**
         * Initiates the download of the currently viewed image.
         */
        function downloadCurrentImage() {
            if (currentImage) {
                const link = document.createElement('a');
                link.href = currentImage.url;
                link.download = currentImage.name + '.' + currentImage.url.split('.').pop().split('?')[0]; // Extract file extension
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                showToast(`Downloading ${currentImage.name}...`, 'info');
            }
        }

        /**
         * Handles image preview in the upload modal.
         * @param {Event} event - The file input change event.
         */
        function handleImagePreview(event) {
            const file = event.target.files[0];
            const previewContainer = document.getElementById('imagePreviewContainer');
            const previewImage = document.getElementById('imagePreview');
            const fileNameDisplay = document.getElementById('imageFileName');
            const imageUploadError = document.getElementById('imageUploadError');

            imageUploadError.classList.add('hidden'); // Hide error initially

            if (file) {
                if (file.size > 5 * 1024 * 1024) { // 5MB limit
                    imageUploadError.textContent = 'File size exceeds 5MB limit!';
                    imageUploadError.classList.remove('hidden');
                    event.target.value = ''; // Clear the input
                    previewContainer.classList.add('hidden');
                    return;
                }

                const reader = new FileReader();
                reader.onload = (e) => {
                    previewImage.src = e.target.result;
                    fileNameDisplay.textContent = file.name;
                    previewContainer.classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            } else {
                previewImage.src = '';
                fileNameDisplay.textContent = '';
                previewContainer.classList.add('hidden');
            }
        }

        /**
         * Handles logo upload submission.
         * In a real app, this would send the file and metadata to a server.
         * @param {Event} event - The form submission event.
         */
        function uploadLogo(event) {
            event.preventDefault();
            const form = event.target;
            if (!validateForm(form)) {
                return;
            }

            toggleLoader('uploadModal', true); // Show loader

            const imageFile = document.getElementById('imageUpload').files[0];
            const title = document.getElementById('imageTitle').value;
            const category = document.getElementById('imageCategory').value;
            const description = document.getElementById('imageDescription').value;

            // Simulate upload process
            console.log('Uploading:', { imageFile, title, category, description });
            showToast(`Uploading "${title}"...`, 'info');

            setTimeout(() => {
                toggleLoader('uploadModal', false); // Hide loader
                closeModal('uploadModal');
                showToast('Logo uploaded successfully!', 'success');
                document.getElementById('uploadForm').reset(); // Reset form
                document.getElementById('imagePreviewContainer').classList.add('hidden'); // Hide preview
                renderGallery(); // Re-render gallery to reflect potential new logo (in a real app, this would fetch updated data)
            }, 1500);
        }

        /**
         * Lazy loads images in the gallery.
         */
        function lazyLoadImages() {
            const lazyImages = document.querySelectorAll('img.lazyload');
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        img.src = img.dataset.src; // Change src from data-src
                        img.classList.remove('lazyload');
                        img.classList.add('loaded'); // Add loaded class for opacity transition
                        observer.unobserve(img);
                    }
                });
            }, {
                rootMargin: '0px 0px 100px 0px' // Load images when they are 100px below viewport
            });

            lazyImages.forEach(img => {
                observer.observe(img);
            });
        }


        /**
         * Renders the gallery categories and their logos dynamically, applying filters.
         * @param {string} filterCategory - The category to filter by, or 'all'.
         * @param {string} searchTerm - The search term to filter by logo name.
         */
        function renderGallery(filterCategory = 'all', searchTerm = '') {
            const galleryContainer = document.getElementById('galleryContainer');
            galleryContainer.innerHTML = ''; // Clear existing content
            const noResultsMessage = document.getElementById('noResultsMessage');
            let logosFound = false;

            // Update active filter button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                if (btn.dataset.category === filterCategory || (btn.dataset.category === 'all' && filterCategory === 'all')) {
                    btn.classList.add('bg-primary', 'text-white', 'border-primary');
                    btn.classList.remove('bg-white', 'text-gray-700', 'border-gray-300');
                } else {
                    btn.classList.remove('bg-primary', 'text-white', 'border-primary');
                    btn.classList.add('bg-white', 'text-gray-700', 'border-gray-300');
                }
            });

            for (const categoryName in galleryData) {
                if (filterCategory !== 'all' && categoryName !== filterCategory) {
                    continue; // Skip if not the selected category
                }

                const logos = galleryData[categoryName].filter(logo => 
                    logo.name.toLowerCase().includes(searchTerm.toLowerCase())
                );

                if (logos.length > 0) {
                    logosFound = true;
                    const categoryHtml = `
                        <div class="category-card p-6 border-2 border-transparent">
                            <h2 class="text-3xl font-extrabold mb-6 text-center">${categoryName}</h2>
                            <div class="logo-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4">
                                ${logos.map(logo => `
                                    <div class="gallery-item cursor-pointer flex flex-col items-center p-3 border border-gray-200 rounded-lg bg-white shadow-sm hover:shadow-lg transition-all duration-200"
                                         onclick="openImageModal('${logo.url}', '${logo.name}')">
                                        <img data-src="${logo.url}" alt="${logo.name}" class="w-full h-16 object-contain mb-2 lazyload">
                                        <p class="text-xs font-semibold text-center text-gray-700 truncate w-full">${logo.name}</p>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                    galleryContainer.innerHTML += categoryHtml;
                }
            }

            if (!logosFound && searchTerm) { // Only show no results message if a search term was provided
                noResultsMessage.classList.remove('hidden');
            } else {
                noResultsMessage.classList.add('hidden');
            }
            
            lazyLoadImages(); // Apply lazy loading after rendering
        }

        let currentFilterCategory = 'all';
        let currentSearchTerm = '';

        /**
         * Filters the gallery by category.
         * @param {string} category - The category name to filter by.
         */
        function filterByCategory(category) {
            currentFilterCategory = category;
            renderGallery(currentFilterCategory, currentSearchTerm);
        }

        /**
         * Filters the gallery by search term.
         */
        function filterGallery() {
            currentSearchTerm = document.getElementById('searchInput').value;
            renderGallery(currentFilterCategory, currentSearchTerm);
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', () => {
            // Render the gallery on page load
            renderGallery();

            // Form Submissions
            document.getElementById('loginForm').addEventListener('submit', login);
            document.getElementById('signupForm').addEventListener('submit', signup);
            document.getElementById('uploadForm').addEventListener('submit', uploadLogo);

            // File Upload Area interaction
            const fileUploadArea = document.getElementById('fileUploadArea');
            const imageUploadInput = document.getElementById('imageUpload');

            fileUploadArea.addEventListener('click', () => imageUploadInput.click());
            imageUploadInput.addEventListener('change', handleImagePreview);

            // Drag and Drop functionality for file upload
            fileUploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                e.stopPropagation();
                fileUploadArea.classList.add('border-primary-light', 'bg-f0f4ff'); // Highlight on drag over
            });

            fileUploadArea.addEventListener('dragleave', (e) => {
                e.preventDefault();
                e.stopPropagation();
                fileUploadArea.classList.remove('border-primary-light', 'bg-f0f4ff');
            });

            fileUploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                e.stopPropagation();
                fileUploadArea.classList.remove('border-primary-light', 'bg-f0f4ff');

                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    imageUploadInput.files = files; // Assign dropped files to input
                    handleImagePreview({ target: imageUploadInput });
                }
            });
        });
    </script>
</body>
</html>
